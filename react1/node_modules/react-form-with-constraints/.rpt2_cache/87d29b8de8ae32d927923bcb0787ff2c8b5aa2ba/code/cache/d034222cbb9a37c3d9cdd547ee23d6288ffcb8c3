{"code":"import * as tslib_1 from \"tslib\";\r\nimport * as React from 'react';\r\nimport * as PropTypes from 'prop-types';\r\nimport { withValidateEventEmitter } from './withValidateEventEmitter';\r\nimport { FieldsStore } from './FieldsStore';\r\nvar FormWithConstraintsComponent = (function (_super) {\r\n    tslib_1.__extends(FormWithConstraintsComponent, _super);\r\n    function FormWithConstraintsComponent() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return FormWithConstraintsComponent;\r\n}(React.Component));\r\nexport { FormWithConstraintsComponent };\r\nvar FormWithConstraints = (function (_super) {\r\n    tslib_1.__extends(FormWithConstraints, _super);\r\n    function FormWithConstraints() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.fieldsStore = new FieldsStore();\r\n        _this.fieldFeedbacksKey = 0;\r\n        return _this;\r\n    }\r\n    FormWithConstraints.prototype.getChildContext = function () {\r\n        return {\r\n            form: this\r\n        };\r\n    };\r\n    FormWithConstraints.prototype.computeFieldFeedbacksKey = function () {\r\n        return this.fieldFeedbacksKey++;\r\n    };\r\n    FormWithConstraints.prototype.validateFields = function () {\r\n        var _this = this;\r\n        var inputsOrNames = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            inputsOrNames[_i] = arguments[_i];\r\n        }\r\n        var inputs = inputsOrNames.filter(function (inputOrName) { return typeof inputOrName !== 'string'; });\r\n        var fieldNames = inputsOrNames.filter(function (inputOrName) { return typeof inputOrName === 'string'; });\r\n        var otherInputs = [];\r\n        if (inputsOrNames.length === 0) {\r\n            otherInputs = this.form.querySelectorAll('[name]');\r\n        }\r\n        if (fieldNames.length > 0) {\r\n            var selectors = fieldNames.map(function (fieldName) { return \"[name=\\\"\" + fieldName + \"\\\"]\"; });\r\n            otherInputs = this.form.querySelectorAll(selectors.join(', '));\r\n        }\r\n        tslib_1.__spread(inputs, otherInputs).forEach(function (input) { return _this.emitValidateEvent(input); });\r\n    };\r\n    FormWithConstraints.prototype.isValid = function () {\r\n        var fieldNames = Object.keys(this.fieldsStore.fields);\r\n        return !(_a = this.fieldsStore).containErrors.apply(_a, tslib_1.__spread(fieldNames));\r\n        var _a;\r\n    };\r\n    FormWithConstraints.prototype.render = function () {\r\n        var _this = this;\r\n        var _a = this.props, children = _a.children, formProps = tslib_1.__rest(_a, [\"children\"]);\r\n        return React.createElement(\"form\", tslib_1.__assign({ ref: function (form) { return _this.form = form; } }, formProps), children);\r\n    };\r\n    FormWithConstraints.childContextTypes = {\r\n        form: PropTypes.object.isRequired\r\n    };\r\n    return FormWithConstraints;\r\n}(withValidateEventEmitter(FormWithConstraintsComponent)));\r\nexport { FormWithConstraints };\r\n//# sourceMappingURL=FormWithConstraints.js.map","map":{"version":3,"file":"FormWithConstraints.js","sourceRoot":"","sources":["FormWithConstraints.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAC/B,OAAO,KAAK,SAAS,MAAM,YAAY,CAAC;AAExC,OAAO,EAAyB,wBAAwB,EAAE,MAAM,4BAA4B,CAAC;AAG7F,OAAO,EAAE,WAAW,EAAE,MAAM,eAAe,CAAC;AAwD5C;IAAkD,wDAAyC;IAA3F;;IAA6F,CAAC;IAAD,mCAAC;AAAD,CAAC,AAA9F,CAAkD,KAAK,CAAC,SAAS,GAA6B;;AAC9F;IAAyC,+CAAsD;IAA/F;QAAA,qEAsDC;QA1CC,iBAAW,GAAG,IAAI,WAAW,EAAE,CAAC;QAExB,uBAAiB,GAAG,CAAC,CAAC;;IAwChC,CAAC;IAlDC,6CAAe,GAAf;QACE,MAAM,CAAC;YACL,IAAI,EAAE,IAAI;SACX,CAAC;IACJ,CAAC;IAOD,sDAAwB,GAAxB;QACE,MAAM,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAClC,CAAC;IAMD,4CAAc,GAAd;QAAA,iBAmBC;QAnBc,uBAAuC;aAAvC,UAAuC,EAAvC,qBAAuC,EAAvC,IAAuC;YAAvC,kCAAuC;;QACpD,IAAM,MAAM,GAAG,aAAa,CAAC,MAAM,CAAC,UAAA,WAAW,IAAI,OAAA,OAAO,WAAW,KAAK,QAAQ,EAA/B,CAA+B,CAAY,CAAC;QAC/F,IAAM,UAAU,GAAG,aAAa,CAAC,MAAM,CAAC,UAAA,WAAW,IAAI,OAAA,OAAO,WAAW,KAAK,QAAQ,EAA/B,CAA+B,CAAa,CAAC;QAEpG,IAAI,WAAW,GAAY,EAAE,CAAC;QAG9B,EAAE,CAAC,CAAC,aAAa,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;YAC/B,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAQ,CAAC;QAC5D,CAAC;QACD,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YAC1B,IAAM,SAAS,GAAG,UAAU,CAAC,GAAG,CAAC,UAAA,SAAS,IAAI,OAAA,aAAU,SAAS,QAAI,EAAvB,CAAuB,CAAC,CAAC;YACvE,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAQ,CAAC;QACxE,CAAC;QAED,iBACK,MAAM,EACN,WAAW,EACd,OAAO,CAAC,UAAA,KAAK,IAAI,OAAA,KAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,EAA7B,CAA6B,CAAC,CAAC;IACpD,CAAC;IAGD,qCAAO,GAAP;QACE,IAAM,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QACxD,MAAM,CAAC,CAAC,CAAA,KAAA,IAAI,CAAC,WAAW,CAAA,CAAC,aAAa,4BAAI,UAAU,EAAC,CAAC;;IACxD,CAAC;IAED,oCAAM,GAAN;QAAA,iBAGC;QAFC,IAAM,eAAuC,EAArC,sBAAQ,EAAE,4CAA2B,CAAC;QAC9C,MAAM,CAAC,+CAAM,GAAG,EAAE,UAAA,IAAI,IAAI,OAAA,KAAI,CAAC,IAAI,GAAG,IAAW,EAAvB,CAAuB,IAAM,SAAS,GAAG,QAAQ,CAAQ,CAAC;IACtF,CAAC;IApDM,qCAAiB,GAAG;QACzB,IAAI,EAAE,SAAS,CAAC,MAAM,CAAC,UAAU;KAClC,CAAC;IAmDJ,0BAAC;CAAA,AAtDD,CAAyC,wBAAwB,CAAC,4BAA4B,CAAC,GAsD9F;SAtDY,mBAAmB"}}
